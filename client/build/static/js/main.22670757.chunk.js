(this["webpackJsonptask-manager-app"]=this["webpackJsonptask-manager-app"]||[]).push([[0],{88:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(9),c=a(5),s=a(16),i=a(48),o=a(36),l=a(49),u=a.n(l),j=a(3),d=a(23),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return[].concat(Object(d.a)(e),[t.payload]);case"GET_TASKS":return t.payload;case"REMOVE_TASK":return e.filter((function(e){return e._id!==t.payload._id}));case"TOGGLE_TASK":return e.map((function(e){return e._id===t._id?Object(j.a)(Object(j.a)({},e),{},{completed:e.completed}):e}));case"GET_USER_TASKS":case"GET_TASK_BYID":return t.payload;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return t.payload;case"FIND_USER":return{token:t.payload.token,user:t.payload.user,isAdmin:t.payload.user.isAdmin};case"LOGOUT_USER":return{};case"UPDATE_USER":case"ADD_PHOTO":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload});case"REMOVE_USER":return[];default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECT":return[].concat(Object(d.a)(e),[t.payload]);case"GET_PROJECT":return t.payload;case"REMOVE_PROJECT":return e.filter((function(e){return e._id!==t.payload._id}));case"SINGLE_PROJECT":return[t.payload];case"UPDATE_PROJECT":return{project:t.payload};default:return e}},h=Object(s.c)({users:m,tasks:b,projects:p}),O={key:"users",storage:u.a,whitelist:["users"]},f=Object(o.a)(O,h),x=Object(s.e)(f,Object(s.a)(i.a)),v=Object(o.b)(x),g=a(50),N=a(0),y=a.n(N),k=a(18),w=a.n(k),E=a(13),S=a(20),T=Object(c.b)((function(e){return{users:e.users}}))((function(e){var t=e.users;return Object(n.jsx)("div",{className:"container-fluid",style:{backgroundColor:"#2d4059"},children:Object(n.jsx)("nav",{className:"navbar sticky-top navbar-expand-sm navbar-dark",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[!t.token&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsx)(r.b,{className:"navbar-brand",to:"/home",children:"Home"}),Object(n.jsx)(r.c,{className:"nav-link ",to:"/login",children:"Login"}),Object(n.jsx)(r.c,{className:"nav-link ",to:"/signup",children:"SignUp"})]}),t.token&&t.isAdmin&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsx)(r.b,{className:"navbar-brand",to:"/home",children:"Home"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/addproject",children:"Projects"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/profile",children:"Profile"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/logout",children:"Logout"})]}),t.token&&!t.isAdmin&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsx)(r.b,{className:"navbar-brand",to:"/home",children:"Home"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/dnd",children:"Tasks"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/profile",children:"Profile"}),Object(n.jsx)(r.c,{className:"nav-link",to:"/logout",children:"Logout"})]})]})})]})})})})),_=function(e){return Object(n.jsxs)("div",{className:"mt-5",children:[Object(n.jsx)("h1",{children:" Task Management Application "}),Object(n.jsx)("h4",{children:" Single Destination To Manage Your Project and Tasks."}),Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)("img",{src:"https://image.freepik.com/free-vector/multitask-office-work-illustration-cartoon-busy-businessman-character-working-many-virtual-business-tasks-multitasking-concept-modern-effective-time-management-white_213110-457.jpg",alt:""})})]})},C=a(11),A=a(8),D=a(4),P=a.n(D),F=a(10),R=a(12),I=a.n(R),U=function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.patch("/users/me",e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"UPDATE_USER",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(F.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/users");case 2:return a=e.sent,n=a.data,t({type:"GET_USER",payload:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(e){var t=e.value,a=e.onChange,r=e.name,c=e.type,s=e.error,i=e.label,o=e.placeholder;return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:r,className:"form-label float-left",children:i}),Object(n.jsx)("input",{value:t,onChange:a,name:r,type:c,placeholder:o,className:"form-control"}),s&&Object(n.jsx)("small",{className:"text-danger lead",children:s})]})},G={email:"",password:""},L=function(e){var t=Object(N.useState)({}),a=Object(A.a)(t,2),r=a[0],s=a[1],i=Object(N.useState)(G),o=Object(A.a)(i,2),l=o[0],u=o[1],d=Object(c.c)(),b=function(e){var t=r,a=e.currentTarget,n=a.name,c=a.value,i=function(e,t){return"email"===e&&""===t.trim()?"Email Is Required":"password"===e&&""===t.trim()?"Password Is Required":void 0}(n,c);i?t[n]=i:delete t[n],u(Object(j.a)(Object(j.a)({},l),{},Object(C.a)({},n,c))),s((function(e){return t||{}}))};return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"m-4",children:" Login Here.."}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e={};return""===l.email.trim()&&(e.email="Email is required"),""===l.password.trim()&&(e.password=" Password is required"),0===Object.keys(e).length?null:e}();s((function(e){return t||{}})),t||d(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("/users/login",e);case 2:return n=t.sent,r=n.data,a({type:"FIND_USER",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(e){S.b.success("Login Success"),localStorage.setItem("x-auth-token",e.token),window.location="/"})).catch((function(e){S.b.error("Email or Password Are Invalid !"),console.log(e)}))},children:[Object(n.jsx)(H,{value:l.email,onChange:b,label:"Email",name:"email",type:"email",placeholder:"Enter Your Email",error:r.email,className:"form-control"}),Object(n.jsx)("small",{id:"emailHelp",className:"form-text mark",children:"We'll never share your email with anyone else."}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"Password",className:"form-label float-left mt-2",children:"Password"}),Object(n.jsx)(H,{value:l.password,onChange:b,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control",error:r.password})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",children:"Login"})})]})})]})},B={name:"",email:"",password:"",age:""},K=function(e){var t=Object(N.useState)({}),a=Object(A.a)(t,2),r=a[0],s=a[1],i=Object(N.useState)(B),o=Object(A.a)(i,2),l=o[0],u=o[1],d=Object(c.c)(),b=function(e){var t=r,a=e.currentTarget,n=a.name,c=a.value,i=function(e,t){return"name"===e&&""===t.trim()?"Name Is Required":"email"===e&&""===t.trim()?"Email Is Required":"password"===e&&""===t.trim()?"Password Is Required":"age"===e&&""===t.trim()?"Age Is Required":void 0}(n,c);i?t[n]=i:delete t[n],u(Object(j.a)(Object(j.a)({},l),{},Object(C.a)({},n,c))),s((function(e){return t||{}}))};return Object(n.jsxs)("div",{style:{backgroundColor:""},children:[Object(n.jsx)("h1",{className:"m-3",children:" New Registration"}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=function(){var e={};return""===l.name.trim()&&(e.name="Name is required"),""===l.email.trim()&&(e.email=" Email is required"),""===l.email.trim()&&(e.password="Password is required"),""===l.age.trim()&&(e.age=" Age is required"),0===Object.keys(e).length?null:e}();console.log(a),s((function(e){return a||{}})),a||d(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("/users",e);case 2:n=t.sent,r=n.data,a({type:"ADD_USER",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(){S.b.success("You Registered Succesfully, Now You Can Login"),e.history.replace("/login")})).catch((function(){S.b.error("Unexpected error"),e.history.replace("/signup")}))},children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",htmlFor:"Name",children:"Name"}),Object(n.jsx)(H,{value:l.name,onChange:b,name:"name",placeholder:"Enter Your Name",error:r.name,className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",htmlFor:"Email",children:" E-mail"}),Object(n.jsx)(H,{value:l.email,onChange:b,name:"email",type:"email",placeholder:"Enter Your Email",className:"form-control",error:r.email})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",htmlFor:"Password",children:"Password"}),Object(n.jsx)(H,{value:l.password,onChange:b,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control",error:r.password})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",htmlFor:"Age",children:"Age"}),Object(n.jsx)(H,{value:l.age,onChange:b,name:"age",placeholder:"Enter Your Age",className:"form-control",error:r.age})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-lg btn-block",type:"submit",children:"Submit"})]})})]})},q=function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/tasks/task/"+e);case 2:return n=t.sent,r=n.data,a({type:"GET_TASK_BYID",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/tasks/users/"+e);case 2:return n=t.sent,r=n.data,a({type:"GET_USER_TASKS",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.patch("/tasks/"+e._id,e,{headers:{"x-auth-token":t}});case 2:return n({type:"TOGGLE_TASK",payload:e}),a.abrupt("return",e);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},V=localStorage.getItem("x-auth-token"),W=Object(c.b)((function(e){return{users:e.users,tasks:e.tasks}}))((function(e){var t=Object(c.c)();return Object(N.useEffect)((function(){var a=e.users.user._id;t(J(a))}),[t,e.users.user._id]),Object(n.jsxs)("div",{className:"container",children:[!V&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),V&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)("div",{className:"m-5",children:[Object(n.jsxs)("h1",{children:[" Welcome ",e.users.user.name,"..! "]}),Object(n.jsx)("h5",{children:" Now You Can See Your All Tasks....  Here "})]}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("ul",{className:"list-group",children:Object(n.jsx)("div",{className:"row",children:e.tasks.map((function(e){return Object(n.jsx)("div",{className:"col-6 social-icons",children:Object(n.jsx)(r.b,{to:"/tasks/".concat(e._id),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"list-group-item col-sm-5 card text-white bg-dark m-2",style:{maxWidth:"58rem"},children:[Object(n.jsxs)("div",{className:"card-header",children:["Task : ",e.description]}),Object(n.jsxs)("h5",{className:"card-title",children:["Project : ",e.project.title]})]})})},e._id)}))})})})]})]})})),z=localStorage.getItem("x-auth-token"),Q=Object(c.b)((function(e){return{users:e.users,tasks:e.tasks}}))((function(e){var t=[{id:1,name:"Processing",value:!1},{id:2,name:"Done",value:!0}],a=Object(c.c)(),r=Object(N.useState)(""),s=Object(A.a)(r,2),i=s[0],o=s[1];Object(N.useEffect)((function(){var t=e.match.params.id;a(q(t))}),[a,e.match.params.id]);var l=function(e){var t=e.target.value;o("true"===t)};return Object(n.jsxs)("div",{className:"container",children:[!z&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),z&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)("div",{className:"m-5",children:[Object(n.jsxs)("h1",{children:[" Welcome ",e.users.user.name,"..! "]}),Object(n.jsx)("h5",{children:" Now You Can Add Your Tasks... Here "})]}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("ul",{className:"list-group",children:e.tasks.map((function(e){return Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-1",children:e.completed?Object(n.jsx)("i",{className:"fa fa-check fa-3x","aria-hidden":"true"}):Object(n.jsx)("i",{className:"fa fa-times fa-3x","aria-hidden":"true"})}),Object(n.jsx)("div",{className:"col-4",children:e.description}),Object(n.jsxs)("div",{className:"col-3",children:[Object(n.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),Object(n.jsxs)("select",{name:"status",id:"status",label:"Status",className:"form-control",onChange:l,children:[Object(n.jsx)("option",{value:""}),t.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.name},e.id)}))]})]}),Object(n.jsx)("div",{className:"col-4",children:Object(n.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){e.completed=i,a(M(e,z))}(e)},children:"Update"})})]})},e._id)}))})})]})]})})),X=a(51),Z=a(52),$=a(55),ee=a(54),te=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(Z.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"404 Not Found"})}}]),a}(N.Component),ae=Object(c.b)((function(e){return{token:e.users.token}}))((function(e){var t=e.token,a=Object(c.c)();return Object(N.useEffect)((function(){a(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/users/logout",{headers:{"x-auth-token":e}});case 2:n=t.sent,r=n.data,a({type:"LOGOUT_USER",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),localStorage.clear(),window.location="/"})),null})),ne=Object(c.b)((function(e){return{users:e.users}}),{updateUser:U})((function(e){var t,a={name:e.users.user.name,email:e.users.user.email,password:"",age:e.users.user.age},r=Object(N.useState)(a),s=Object(A.a)(r,2),i=s[0],o=s[1],l=Object(c.c)(),u=function(e){var t=e.target,a=t.name,n=t.value;o(Object(j.a)(Object(j.a)({},i),{},Object(C.a)({},a,n)))};return Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("div",{children:!e.users.token&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})})}),e.users.token&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-2",children:Object(n.jsx)("img",{className:"img-thumbnail",src:e.users.user.img,alt:""})}),Object(n.jsxs)("div",{className:"col-10",children:[Object(n.jsxs)("h1",{children:[" Name : ",e.users.user.name," "]}),Object(n.jsxs)("h1",{children:[" Email : ",e.users.user.email," "]}),Object(n.jsxs)("h1",{children:[" Age : ",e.users.user.age," "]})]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6",children:Object(n.jsxs)("form",{method:"post",action:"#",id:"#",children:[Object(n.jsx)("label",{children:"Upload Your File "}),Object(n.jsx)("input",{type:"file",name:"file",className:"form-control",onChange:function(e){console.log(e.target.files[0]),t=e.target.files[0]}}),Object(n.jsx)("button",{type:"button",className:"btn btn-success btn-sm m-2",onClick:function(a){var n=new FormData;n.append("img",t),l(function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.put("/users/me/profileImg",e,{headers:{"x-auth-token":t,"Content-Type":"multipart/form-data"}});case 2:return r=a.sent,c=r.data,n({type:"ADD_PHOTO",payload:c}),a.abrupt("return",c);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,e.users.token))},children:"Upload"})]})}),Object(n.jsx)("div",{className:"col-6",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l(U(i,e.users.token)).then((function(){S.b.success("Profile Updated")})).catch((function(){S.b.error("Unexpected error")}))},children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Name"}),Object(n.jsx)("input",{value:i.name,onChange:u,name:"name",placeholder:"Enter Your Name",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"E-mail"}),Object(n.jsx)("input",{value:i.email,onChange:u,name:"email",type:"email",placeholder:"Enter Your Email",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Password"}),Object(n.jsx)("input",{value:i.password,onChange:u,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Age"}),Object(n.jsx)("input",{value:i.age,onChange:u,name:"age",placeholder:"Enter Your Age",className:"form-control"})]}),Object(n.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:"Update"})]})})]})]})]})})),re=Object(c.b)((function(e){return{token:e.users.token}}))((function(e){var t=e.token,a=Object(c.c)();return Object(N.useEffect)((function(){a(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/users/me",{headers:{"x-auth-token":e}});case 2:return n=t.sent,a({type:"REMOVE_USER",payload:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){S.b.success("Your Account Is Deleted Successfully"),window.location="/"}))}),[a,t]),null})),ce=a(99),se=a(97),ie=function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.delete("/projects/"+e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"REMOVE_PROJECT",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},oe={title:"",description:""},le=localStorage.getItem("x-auth-token"),ue=Object(c.b)((function(e){return{users:e.users,projects:e.projects}}))((function(e){var t=Object(N.useState)(!1),a=Object(A.a)(t,2),s=a[0],i=a[1],o=Object(N.useState)(oe),l=Object(A.a)(o,2),u=l[0],d=l[1],b=Object(c.c)(),m=function(){return i(!1)};Object(N.useEffect)((function(){var e;b((e=le,function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/projects",{headers:{"x-auth-token":e}});case 2:n=t.sent,r=n.data,a({type:"GET_PROJECT",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[b]);var p=function(e){var t=e.target,a=t.name,n=t.value;d(Object(j.a)(Object(j.a)({},u),{},Object(C.a)({},a,n)))},h=function(){var e=Object(F.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(ie(t._id,le));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container",children:[!le&&!e.users.isAdmin&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),le&&e.users.isAdmin&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)("div",{className:"m-5",children:[Object(n.jsx)("h1",{children:" Welcome "}),Object(n.jsx)("h5",{children:" Now You Can Add Your Tasks... Here "})]}),Object(n.jsx)(ce.a,{variant:"primary",onClick:function(){return i(!0)},children:"New Project"}),Object(n.jsxs)(se.a,{show:s,onHide:m,children:[Object(n.jsx)(se.a.Header,{closeButton:!0,children:Object(n.jsx)(se.a.Title,{children:"New Project"})}),Object(n.jsx)(se.a.Body,{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(u),b(function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I.a.post("/projects",e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"ADD_PROJECT",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(u))},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(n.jsx)("input",{value:u.title,onChange:p,name:"title",type:"text",placeholder:"Title",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label",children:"Description"}),Object(n.jsx)("input",{value:u.description,onChange:p,name:"description",type:"text",placeholder:"Description",className:"form-control"})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(ce.a,{variant:"primary",type:"submit",onClick:m,children:"Submit"})})]})})]}),Object(n.jsx)("div",{className:"container mt-5",children:Object(n.jsx)("ul",{className:"col-12 list-group",children:e.projects.map((function(e){return Object(n.jsxs)("li",{className:"row list-group-item",children:[Object(n.jsx)("div",{className:"text-left",children:Object(n.jsx)(r.b,{to:"/project/".concat(e._id),children:Object(n.jsx)("i",{class:"fa fa-eye"})})}),Object(n.jsx)("div",{className:"col-4 float-left",children:Object(n.jsxs)("p",{children:["Title : ",e.title," "]})}),Object(n.jsx)("div",{className:"col-4 float-left",children:Object(n.jsxs)("p",{children:["Description : ",e.description," "]})}),Object(n.jsx)("div",{className:"text-right",children:Object(n.jsx)("i",{className:"fa fa-trash","aria-hidden":"true",onClick:function(){return h(e)},style:{cursor:"pointer"}})})]},e._id)}))})})]})]})})),je=Object(E.g)(Object(c.b)((function(e){return{users:e.users}}))((function(e){var t=Object(c.c)(),a=Object(N.useState)([{}]),s=Object(A.a)(a,2),i=s[0],o=s[1],l=Object(N.useState)({}),u=Object(A.a)(l,2),b=u[0],m=u[1],p=Object(N.useState)([]),h=Object(A.a)(p,2),O=h[0],f=h[1],x=Object(N.useState)([]),v=Object(A.a)(x,2),g=v[0],k=v[1],w=Object(N.useState)(!1),S=Object(A.a)(w,2),T=S[0],_=S[1],D=function(){return _(!1)},R=Object(N.useState)(!1),U=Object(A.a)(R,2),H=U[0],G=U[1],L=function(){return G(!1)};Object(N.useEffect)((function(){var a=e.match.params.id;t(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/projects/"+e,{});case 2:return n=t.sent,r=n.data,a({type:"SINGLE_PROJECT",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)).then((function(e){return o(e)})),t(Y()).then((function(e){return f(e)})),t(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/tasks/"+e);case 2:return n=t.sent,r=n.data,a({type:"GET_TASKS",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)).then((function(e){return k(e)}))}),[t,e.match.params.id]);var B=function(e){var t=e.target,a=t.name,n=t.value;o(Object(j.a)(Object(j.a)({},i),{},Object(C.a)({},a,n)))},K=function(e){var t=e.target,a=t.name,n=t.value;m(Object(j.a)(Object(j.a)({},b),{},Object(C.a)({},a,n)))};return console.log(e.users.isAdmin),Object(n.jsxs)("div",{children:[!e.users.isAdmin&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),e.users.isAdmin&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)("div",{className:"col-sm-10 card text-white bg-secondary mb-3 mt-4 ",style:{marginLeft:"100px"},children:[Object(n.jsxs)("div",{className:"card-header",children:["title : ",i.title]}),Object(n.jsxs)("h5",{className:"card-title",children:["description : ",i.description]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.a,{className:"btn m-2",variant:"primary",onClick:function(){return _(!0)},children:"Update"}),Object(n.jsx)(ce.a,{variant:"primary",onClick:function(){return G(!0)},children:"Add Task"})]})]}),Object(n.jsx)("div",{className:"m-2",children:Object(n.jsxs)(se.a,{show:T,onHide:D,children:[Object(n.jsx)(se.a.Header,{closeButton:!0,children:Object(n.jsx)(se.a.Title,{children:"New Project"})}),Object(n.jsx)(se.a.Body,{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(F.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/projects",e,{});case 2:return n=t.sent,r=n.data,a({type:"UPDATE_PROJECT",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i)).then((function(e){o((function(t){return e}))}))},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(n.jsx)("input",{value:i.title,onChange:B,name:"title",type:"text",placeholder:"Title",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label",children:"Description"}),Object(n.jsx)("input",{value:i.description,onChange:B,name:"description",type:"text",placeholder:"Description",className:"form-control"})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(ce.a,{variant:"primary",type:"submit",onClick:D,children:"Submit"})})]})})]})}),Object(n.jsx)("div",{className:"m-2",children:Object(n.jsxs)(se.a,{show:H,onHide:L,children:[Object(n.jsx)(se.a.Header,{closeButton:!0,children:Object(n.jsx)(se.a.Title,{children:"Assign Task"})}),Object(n.jsx)(se.a.Body,{children:Object(n.jsxs)("form",{onSubmit:function(a){a.preventDefault();var n=e.match.params.id;t(function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r,c,s;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(j.a)(Object(j.a)({},e),{},{projectId:t}),a.next=3,I.a.post("/tasks",r);case 3:return c=a.sent,s=c.data,n({type:"ADD_TASK",payload:s}),a.abrupt("return",s);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(b,n)).then((function(e){k((function(t){return[e].concat(Object(d.a)(t))}))})),window.location.reload()},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"task",className:"form-label",children:"Task"}),Object(n.jsx)("input",{value:b.task,onChange:K,name:"task",type:"text",placeholder:"Task",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"user",className:"form-label",children:"User"}),Object(n.jsxs)("select",{name:"user",id:"user",label:"User",value:b.user,className:"form-control",onChange:K,children:[Object(n.jsx)("option",{value:""}),O.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(ce.a,{variant:"primary",type:"submit",onClick:L,children:"Submit"})})]})})]})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row social-icons",style:{marginLeft:"100px"},children:g.map((function(e){return Object(n.jsxs)("div",{className:"col-sm-5 card text-white bg-dark mb-3 m-2",children:[Object(n.jsxs)("div",{className:"card-header",children:["Task : ",e.description]}),Object(n.jsxs)("h5",{className:"card-title",children:["User : ",e.owner.name]}),Object(n.jsx)(r.b,{to:"/updatetask/".concat(e._id),className:"stretched-link"})]},e._id)}))})})]})]})}))),de=localStorage.getItem("x-auth-token"),be=Object(c.b)((function(e){return{tasks:e.tasks,users:e.users}}))((function(e){var t=Object(c.c)();Object(N.useEffect)((function(){var a=e.match.params.id;t(Y()).then((function(e){return h(e)})),t(q(a))}),[t,e.match.params.id]);var a=Object(N.useState)(!1),r=Object(A.a)(a,2),s=r[0],i=r[1],o=Object(N.useState)({}),l=Object(A.a)(o,2),u=l[0],d=l[1],b=Object(N.useState)([]),m=Object(A.a)(b,2),p=m[0],h=m[1],O=function(){return i(!1)},f=function(){return i(!0)},x=function(e){var t=e.target,a=t.name,n=t.value;d(Object(j.a)(Object(j.a)({},u),{},Object(C.a)({},a,n)))},v=function(e){var a,n;t((a=e._id,n=de,function(){var e=Object(F.a)(P.a.mark((function e(t){var r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,I.a.delete("/tasks/"+a,{headers:{"x-auth-token":n}});case 3:r=e.sent,c=r.data,console.log(c),t({type:"REMOVE_TASK",payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(n.jsxs)("div",{children:[!de&&!e.users.isAdmin&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),de&&e.users.isAdmin&&Object(n.jsxs)(y.a.Fragment,{children:[Object(n.jsxs)(se.a,{show:s,onHide:O,children:[Object(n.jsx)(se.a.Header,{closeButton:!0,children:Object(n.jsx)(se.a.Title,{children:"Update Task"})}),Object(n.jsx)(se.a.Body,{children:Object(n.jsxs)("form",{onSubmit:function(a){var n,r;a.preventDefault(),t((n=u,r=e.match.params.id,function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("/tasks/task/"+r,n,{});case 2:return a=e.sent,t({type:"UPDATE_TASKS",payload:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),window.location.reload()},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"task",className:"form-label",children:"Task"}),Object(n.jsx)("input",{value:u.task,onChange:x,name:"task",type:"text",placeholder:"Task",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"user",className:"form-label",children:"User"}),Object(n.jsxs)("select",{name:"user",id:"user",label:"User",value:u.user,className:"form-control",onChange:x,children:[Object(n.jsx)("option",{value:""}),p.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(ce.a,{variant:"primary",type:"submit",onClick:O,children:"Submit"})})]})})]}),Object(n.jsx)("div",{className:"container-fluid mt-5",children:Object(n.jsx)("ul",{className:"list-group",children:e.tasks.map((function(e){return Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("h5",{className:"col-3",children:["Task : ",e.description]}),Object(n.jsxs)("h5",{className:"col-2",children:["User : ",e.owner.name]}),Object(n.jsx)("h5",{className:"col-2",children:e.completed?"Done":"Processing"}),Object(n.jsx)("div",{className:"col-4 btn",children:Object(n.jsx)(ce.a,{className:"btn",variant:"primary",onClick:f,children:"Update"})}),Object(n.jsx)("div",{className:"text-right",children:Object(n.jsx)("i",{className:"fa fa-trash","aria-hidden":"true",onClick:function(){return v(e)},style:{cursor:"pointer"}})})]})})}))})})]})]})})),me=a(98),pe=a(29),he=localStorage.getItem("x-auth-token"),Oe=Object(c.b)((function(e){return{users:e.users}}))((function(e){var t=Object(c.c)(),a=Object(N.useState)([]),r=Object(A.a)(a,2),s=r[0],i=r[1];Object(N.useEffect)((function(){var a=e.users.user._id;t(J(a)).then((function(e){var t;i((t={},Object(C.a)(t,Object(me.a)(),{name:"Todo",items:e.filter((function(e){return"todo"===e.status}))}),Object(C.a)(t,Object(me.a)(),{name:"In Progress",items:e.filter((function(e){return"process"===e.status}))}),Object(C.a)(t,Object(me.a)(),{name:"Done",items:e.filter((function(e){return"done"===e.status}))}),t))}))}),[]);return console.log(s),Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center",height:"100%"},children:[!he&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(E.a,{to:"/not-found"})}),he&&Object(n.jsx)(y.a.Fragment,{children:Object(n.jsx)(pe.a,{onDragEnd:function(e){return function(e,a,n){if(e.destination){var r=e.source,c=e.destination;if(r.droppableId!==c.droppableId){var s,i=a[r.droppableId],o=a[c.droppableId],l=Object(d.a)(i.items),u=Object(d.a)(o.items),b=l.splice(r.index,1),m=Object(A.a)(b,1)[0];"process"===m.status&&("Done"===o.name&&(m.status="done",t(M(m,he))),"Todo"===o.name&&(m.status="todo",t(M(m,he)))),"done"===m.status&&("In Progress"===o.name&&(m.status="process",t(M(m,he))),"Todo"===o.name&&(m.status="todo",t(M(m,he)))),"todo"===m.status&&("In Progress"===o.name&&(m.status="process",t(M(m,he))),"Done"===o.name&&(m.status="done",t(M(m,he)))),u.splice(c.index,0,m),n(Object(j.a)(Object(j.a)({},a),{},(s={},Object(C.a)(s,r.droppableId,Object(j.a)(Object(j.a)({},i),{},{items:l})),Object(C.a)(s,c.droppableId,Object(j.a)(Object(j.a)({},o),{},{items:u})),s)))}else{var p=a[r.droppableId],h=Object(d.a)(p.items),O=h.splice(r.index,1),f=Object(A.a)(O,1)[0];h.splice(c.index,0,f),n(Object(j.a)(Object(j.a)({},a),{},Object(C.a)({},r.droppableId,Object(j.a)(Object(j.a)({},p),{},{items:h}))))}}}(e,s,i)},children:Object.entries(s).map((function(e,t){var a=Object(A.a)(e,2),r=a[0],c=a[1];return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)("h2",{children:c.name}),Object(n.jsx)("div",{style:{margin:8},children:Object(n.jsx)(pe.c,{droppableId:r,children:function(e,t){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},e.droppableProps),{},{ref:e.innerRef,style:{background:t.isDraggingOver?"lightblue":"lightgrey",padding:4,width:250,minHeight:500},children:[c.items.map((function(e,t){return Object(n.jsx)(pe.b,{draggableId:e._id,index:t,children:function(t,a){return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:Object(j.a)({userSelect:"none",padding:16,margin:"0 0 8px 0",minHeight:"50px",backgroundColor:a.isDragging?"#263B4A":"#2d4059",color:"white"},t.draggableProps.style),children:e.description}))}},e._id)})),e.placeholder]}))}},r)})]},r)}))})})]})}));a(88),a(89),a(90);var fe=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(S.a,{}),Object(n.jsx)(T,{}),Object(n.jsxs)(E.d,{children:[Object(n.jsx)(E.b,{path:"/home",component:_}),Object(n.jsx)(E.b,{path:"/login",component:L}),Object(n.jsx)(E.b,{path:"/signup",component:K}),Object(n.jsx)(E.b,{path:"/addtasks",component:W}),Object(n.jsx)(E.b,{path:"/tasks/:id",component:Q}),Object(n.jsx)(E.b,{path:"/addproject",component:ue}),Object(n.jsx)(E.b,{path:"/project/:id",component:je}),Object(n.jsx)(E.b,{path:"/updatetask/:id",component:be}),Object(n.jsx)(E.b,{path:"/logout",component:ae}),Object(n.jsx)(E.b,{path:"/profile",component:ne}),Object(n.jsx)(E.b,{path:"/delete-account",component:re}),Object(n.jsx)(E.b,{path:"/dnd",component:Oe}),Object(n.jsx)(E.b,{path:"/not-found",component:te}),Object(n.jsx)(E.a,{from:"/",exact:!0,to:"/home"}),Object(n.jsx)(E.a,{to:"/not-found"})]})]})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(91),a(92);x.subscribe((function(){return console.log(x.getState())})),w.a.render(Object(n.jsx)(c.a,{store:x,children:Object(n.jsx)(g.a,{loading:null,persistor:v,children:Object(n.jsx)(r.a,{children:Object(n.jsx)(fe,{})})})}),document.getElementById("root")),xe()}},[[93,1,2]]]);
//# sourceMappingURL=main.22670757.chunk.js.map