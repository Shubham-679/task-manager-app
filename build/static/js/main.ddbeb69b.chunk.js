(this["webpackJsonptask-manager-app"]=this["webpackJsonptask-manager-app"]||[]).push([[0],{54:function(e,t,a){},79:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(17),o=a.n(s),l=(a(54),a(4)),i=a(12),u=a(11),j=a(5),b=Object(j.b)((function(e){return{users:e.users}}))((function(e){var t=e.users;return Object(n.jsx)("div",{className:"container-fluid",style:{backgroundColor:"#2d4059"},children:Object(n.jsx)("nav",{className:"navbar sticky-top navbar-expand-sm navbar-dark",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[!t.token&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(u.b,{className:"navbar-brand",to:"/home",children:"Home"}),Object(n.jsx)(u.c,{className:"nav-link ",to:"/login",children:"Login"}),Object(n.jsx)(u.c,{className:"nav-link ",to:"/signup",children:"SignUp"})]}),t.token&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(u.c,{className:"navbar-brand",to:"/tasks",children:"Home"}),Object(n.jsx)(u.c,{className:"nav-link",to:"/logout",children:"Logout"}),Object(n.jsx)(u.c,{className:"nav-link",to:"/profile",children:"Profile"}),Object(n.jsx)(u.c,{className:"nav-link",to:"/delete-account",children:"Delete Account"})]})]})})]})})})})),d=function(e){return Object(n.jsxs)("div",{className:"mt-5",children:[Object(n.jsx)("h1",{children:" Task Manager Application "}),Object(n.jsx)("h4",{children:" Single Destination To Manage Your Daily Routine Tasks."})]})},m=a(19),p=a(6),f=a(20),h=a(3),O=a.n(h),x=a(9),v=a(15),g=a.n(v),N=function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.patch("/users/me",e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"UPDATE_USER",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.delete("/tasks/"+e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"REMOVE_TASK",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},k={email:"",password:""},w=function(e){var t=Object(r.useState)(k),a=Object(f.a)(t,2),c=a[0],s=a[1],o=Object(j.c)(),l=function(e){var t=e.target,a=t.name,n=t.value;s(Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},a,n)))};return Object(n.jsxs)("div",{className:"container",style:{backgroundColor:"#ffcccc"},children:[Object(n.jsx)("h1",{className:"m-4",children:" Login Here.."}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("/users/login",e);case 2:return n=t.sent,r=n.data,a({type:"FIND_USER",payload:r}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c)).then((function(e){i.b.success("Login Success"),localStorage.setItem("x-auth-token",e.token),window.location="/tasks"})).catch((function(e){i.b.error("Email or Password Are Invalid !"),console.log(e)}))},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"email",className:"form-label float-left",children:"Email address"}),Object(n.jsx)("input",{value:c.email,onChange:l,name:"email",type:"email",placeholder:"Enter Your Email",className:"form-control"}),Object(n.jsx)("small",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label float-left",children:"Password"}),Object(n.jsx)("input",{value:c.password,onChange:l,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control"})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]})})]})},E={name:"",email:"",password:"",age:""},S=function(e){var t=Object(r.useState)(E),a=Object(f.a)(t,2),c=a[0],s=a[1],o=Object(j.c)(),l=function(e){var t=e.target,a=t.name,n=t.value;s(Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},a,n)))};return Object(n.jsxs)("div",{style:{backgroundColor:"#ffcccc"},children:[Object(n.jsx)("h1",{className:"m-4",children:" New Registration"}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("/users",e);case 2:n=t.sent,r=n.data,a({type:"ADD_USER",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c)).then((function(){i.b.success("You Registered Succesfully, Now You Can Login"),e.history.replace("/login")})).catch((function(){i.b.error("Unexpected error"),e.history.replace("/signup")}))},children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Name"}),Object(n.jsx)("input",{value:c.name,onChange:l,name:"name",placeholder:"Enter Your Name",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"E-mail"}),Object(n.jsx)("input",{value:c.email,onChange:l,name:"email",type:"email",placeholder:"Enter Your Email",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Password"}),Object(n.jsx)("input",{value:c.password,onChange:l,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Age"}),Object(n.jsx)("input",{value:c.age,onChange:l,name:"age",placeholder:"Enter Your Age",className:"form-control"})]}),Object(n.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:"Submit"})]})})]})},A=localStorage.getItem("x-auth-token");console.log("above method",A);var T=Object(j.b)((function(e){return{users:e.users,tasks:e.tasks}}),(function(e){return{toggleTask:function(t,a){return e(function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.put("/tasks/"+e,{headers:{"x-auth-token":t}});case 2:r=a.sent,c=r.data,n({type:"TOGGLE_TASK",taskToggle:c});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))((function(e){var t=Object(j.c)();Object(r.useEffect)((function(){var e;console.log("in effect",A),t((e=A,function(){var t=Object(x.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/tasks",{headers:{"x-auth-token":e}});case 2:n=t.sent,r=n.data,a({type:"GET_TASKS",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[t,A]);var a,s=c.a.createRef(),o=function(e){a=e.target.value},i=function(e){e.description=a,t(function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.patch("/tasks/"+e._id,e,{headers:{"x-auth-token":t}});case 2:n({type:"UPDATE_TASKS",payload:e});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,A))},u=function(){var e=Object(x.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(y(a._id,A));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container",children:[!A&&Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(l.a,{to:"/not-found"})}),A&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:"m-5",children:[Object(n.jsxs)("h1",{children:[" Welcome ",e.users.user.name,"..! "]}),Object(n.jsx)("h5",{children:" Now You Can Add Your Tasks... Here "})]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a,n,r=s.current.value;t((a=r,n=A,function(){var e=Object(x.a)(O.a.mark((function e(t){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={description:a},e.next=3,g.a.post("/tasks",r,{headers:{"x-auth-token":n}});case 3:c=e.sent,s=c.data,t({type:"ADD_TASK",payload:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(n.jsx)("input",{type:"text",id:"add",ref:s,placeholder:"Add New Task...",className:"m-2"}),Object(n.jsx)("button",{className:"btn btn-primary m-2",children:"Add"})]}),Object(n.jsx)("div",{className:"container col-10",children:Object(n.jsx)("ul",{className:"list-group",children:e.tasks.map((function(e){return Object(n.jsxs)("li",{className:"list-group-item",children:[e.description,Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",id:"update",placeholder:"Update...",onChange:o,className:"float-right m-2"}),Object(n.jsx)("button",{className:"btn btn-warning btn-sm float-right m-2",onClick:function(){return i(e)},children:"Update"})]}),Object(n.jsx)("button",{className:"btn btn-danger btn-sm float-left m-2",onClick:function(){return u(e)},children:"Remove"})]},e._id)}))})})]})]})})),_=a(41),D=a(42),U=a(48),C=a(46),R=function(e){Object(U.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(D.a)(a,[{key:"render",value:function(){return Object(n.jsx)("h1",{children:"404 Not Found"})}}]),a}(r.Component),F=Object(j.b)((function(e){return{token:e.users.token}}))((function(e){var t=e.token,a=Object(j.c)();return Object(r.useEffect)((function(){a(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/users/logout",{headers:{"x-auth-token":e}});case 2:n=t.sent,r=n.data,a({type:"LOGOUT_USER",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),localStorage.clear(),window.location="/"})),null})),P=Object(j.b)((function(e){return{users:e.users}}),{updateUser:N})((function(e){var t,a={name:e.users.user.name,email:e.users.user.email,password:"",age:e.users.user.age},s=Object(r.useState)(a),o=Object(f.a)(s,2),u=o[0],b=o[1],d=Object(j.c)(),h=function(e){var t=e.target,a=t.name,n=t.value;b(Object(p.a)(Object(p.a)({},u),{},Object(m.a)({},a,n)))};return Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("div",{children:!e.users.token&&Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(l.a,{to:"/not-found"})})}),e.users.token&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-2",children:Object(n.jsx)("img",{className:"img-thumbnail",src:e.users.user.img,alt:""})}),Object(n.jsxs)("div",{className:"col-10",children:[Object(n.jsxs)("h1",{children:[" Name : ",e.users.user.name," "]}),Object(n.jsxs)("h1",{children:[" Email : ",e.users.user.email," "]}),Object(n.jsxs)("h1",{children:[" Age : ",e.users.user.age," "]})]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6",children:Object(n.jsxs)("form",{method:"post",action:"#",id:"#",children:[Object(n.jsx)("label",{children:"Upload Your File "}),Object(n.jsx)("input",{type:"file",name:"file",className:"form-control",onChange:function(e){console.log(e.target.files[0]),t=e.target.files[0]}}),Object(n.jsx)("button",{type:"button",className:"btn btn-success btn-sm m-2",onClick:function(a){var n=new FormData;n.append("img",t),d(function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.put("/users/me/profileImg",e,{headers:{"x-auth-token":t,"Content-Type":"multipart/form-data"}});case 2:return r=a.sent,c=r.data,n({type:"ADD_PHOTO",payload:c}),a.abrupt("return",c);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,e.users.token))},children:"Upload"})]})}),Object(n.jsx)("div",{className:"col-6",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),d(N(u,e.users.token)).then((function(){i.b.success("Profile Updated")})).catch((function(){i.b.error("Unexpected error")}))},children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Name"}),Object(n.jsx)("input",{value:u.name,onChange:h,name:"name",placeholder:"Enter Your Name",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"E-mail"}),Object(n.jsx)("input",{value:u.email,onChange:h,name:"email",type:"email",placeholder:"Enter Your Email",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Password"}),Object(n.jsx)("input",{value:u.password,onChange:h,name:"password",type:"password",placeholder:"Enter Your Password",className:"form-control"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{className:"form-label float-left",children:"Age"}),Object(n.jsx)("input",{value:u.age,onChange:h,name:"age",placeholder:"Enter Your Age",className:"form-control"})]}),Object(n.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:"Update"})]})})]})]})]})})),Y=Object(j.b)((function(e){return{token:e.users.token}}))((function(e){var t=e.token,a=Object(j.c)();return console.log(t),Object(r.useEffect)((function(){a(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.delete("/users/me",{headers:{"x-auth-token":e}});case 2:return n=t.sent,a({type:"REMOVE_USER",payload:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){i.b.success("Your Account Is Deleted Successfully"),window.location="/"}))}),[a,t]),null}));a(79),a(80),a(81);var L=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(i.a,{}),Object(n.jsx)(b,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/home",component:d}),Object(n.jsx)(l.b,{path:"/login",component:w}),Object(n.jsx)(l.b,{path:"/signup",component:S}),Object(n.jsx)(l.b,{path:"/tasks",component:T}),Object(n.jsx)(l.b,{path:"/logout",component:F}),Object(n.jsx)(l.b,{path:"/profile",component:P}),Object(n.jsx)(l.b,{path:"/delete-account",component:Y}),Object(n.jsx)(l.b,{path:"/not-found",component:R}),Object(n.jsx)(l.a,{from:"/",exact:!0,to:"/home"}),Object(n.jsx)(l.a,{to:"/not-found"})]})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,87)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},I=a(16),G=a(43),H=a(30),M=a(44),V=a.n(M),B=a(47),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return[].concat(Object(B.a)(e),[t.payload]);case"GET_TASKS":return t.payload;case"UPDATE_TASKS":return e.map((function(e){return e._id===t.payload._id?Object(p.a)(Object(p.a)({},e),{},{description:t.payload.description}):e}));case"REMOVE_TASK":return e.filter((function(e){return e._id!==t.payload._id}));case"TOGGLE_TASK":return e.map((function(e){return e.id===t._id?Object(p.a)(Object(p.a)({},e),{},{completed:!e.completed}):e}));default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":case"FIND_USER":return t.payload;case"LOGOUT_USER":return{};case"UPDATE_USER":case"ADD_PHOTO":return Object(p.a)(Object(p.a)({},e),{},{user:t.payload});case"REMOVE_USER":return[];default:return e}},q=Object(I.c)({users:W,tasks:J}),z={key:"users",storage:V.a,whitelist:["users"]},Q=Object(H.a)(z,q),X=Object(I.d)(Q,Object(I.a)(G.a)),Z=Object(H.b)(X),$=a(45);X.subscribe((function(){return console.log(X.getState())})),o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(j.a,{store:X,children:Object(n.jsx)($.a,{loading:null,persistor:Z,children:Object(n.jsx)(L,{})})})})}),document.getElementById("root")),K()}},[[84,1,2]]]);
//# sourceMappingURL=main.ddbeb69b.chunk.js.map